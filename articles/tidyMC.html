<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tidyMC">
<title>Monte Carlo Simulations made easy and tidy with tidyMC • tidyMC</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Monte Carlo Simulations made easy and tidy with tidyMC">
<meta property="og:description" content="tidyMC">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tidyMC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/tidyMC.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/stefanlinner/tidyMC/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Monte Carlo Simulations made easy and tidy with tidyMC</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/stefanlinner/tidyMC/blob/HEAD/vignettes/tidyMC.Rmd" class="external-link"><code>vignettes/tidyMC.Rmd</code></a></small>
      <div class="d-none name"><code>tidyMC.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="package-overview">Package overview<a class="anchor" aria-label="anchor" href="#package-overview"></a>
</h2>
<p>Monte Carlo simulations aim to study the properties of statistical
inference techniques. At its core, a Monte Carlo simulation works
through the application of the techniques to repeatedly drawn samples
from a pre-specified data generating process. The <code>tidyMC</code>
package aims to cover and simplify the whole workflow of running a Monte
Carlo simulation in either an academic or professional setting. Thus,
<code>tidyMC</code> aims to provide functions for the following
tasks:</p>
<ul>
<li>Running a Monte Carlo simulation for a user defined function over a
parameter grid using <code><a href="../reference/future_mc.html">future_mc()</a></code>
</li>
<li>Summarizing the results by (optionally) user defined summary
functions using <code><a href="../reference/summary.mc.html">summary.mc()</a></code>
</li>
<li>Creating plots of the Monte Carlo simulation results, which can be
modified by the user using <code><a href="../reference/plot.mc.html">plot.mc()</a></code> and
<code><a href="../reference/plot.summary.mc.html">plot.summary.mc()</a></code>
</li>
<li>Creating a <code>LaTeX</code> table summarizing the results of the
Monte Carlo simulation using <code><a href="../reference/tidy_mc_latex.html">tidy_mc_latex()</a></code>
</li>
</ul>
<p>In the following subsections we will show how you can implement those
tasks using the <code>tidyMC</code> package.</p>
<div class="section level3">
<h3 id="installing-tidymc">Installing tidyMC<a class="anchor" aria-label="anchor" href="#installing-tidymc"></a>
</h3>
<p>Until now, the <code>tidyMC</code> package is not on CRAN, thus you
need to download the development version from <a href="https://github.com/stefanlinner/tidyMC" class="external-link">GitHub</a> as follows:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"stefanlinner/tidyMC"</span><span class="op">)</span></span></code></pre></div>
<p>Afterwards you can load the package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/stefanlinner/tidyMC" class="external-link">tidyMC</a></span><span class="op">)</span></span></code></pre></div>
<p>Moreover, the following packages will be used in this vignette:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("magrittr")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span><span class="co"># install.packages("ggplot2")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="co"># install.packages("kableExtra")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/" class="external-link">kableExtra</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="run-your-first-monte-carlo-simulation-with-future_mc">Run your first Monte Carlo Simulation with
<code>future_mc()</code><a class="anchor" aria-label="anchor" href="#run-your-first-monte-carlo-simulation-with-future_mc"></a>
</h4>
<p><code><a href="../reference/future_mc.html">future_mc()</a></code> allows you to run a Monte Carlo simulation
for a user defined function and given parameters. The first argument of
<code><a href="../reference/future_mc.html">future_mc()</a></code> is <code>fun</code> which has to be a function
that handles the generation of data, the application of the method of
interest and the evaluation of the result for a single repetition and
parameter combination. <code><a href="../reference/future_mc.html">future_mc()</a></code> handles the generation
of loops over the desired parameter grids and the repetition of the
Monte Carlo experiment for each of the parameter constellations.
Consider the following example for <code>fun</code> and note that it
performs the required tasks of generating data, applying the method and
evaluating the results:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># fun</span></span>
<span><span class="va">ols_test</span> <span class="op">&lt;-</span> </span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">b0</span>, <span class="va">b1</span>, <span class="va">b2</span>, <span class="va">n</span>, <span class="va">sigma2</span>, <span class="va">param_x1</span>, <span class="va">param_x2</span>, <span class="va">inc_x2</span><span class="op">)</span><span class="op">{</span></span>
<span>    </span>
<span>    <span class="co"># generation of data</span></span>
<span>    <span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, mean <span class="op">=</span> <span class="va">param_x1</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, sd <span class="op">=</span> <span class="va">param_x1</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>,  mean <span class="op">=</span> <span class="va">param_x2</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, sd <span class="op">=</span> <span class="va">param_x2</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">e</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">sigma2</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">y</span> <span class="op">&lt;-</span> <span class="va">b0</span> <span class="op">+</span> <span class="va">b1</span><span class="op">*</span><span class="va">x1</span> <span class="op">+</span> <span class="va">b2</span><span class="op">*</span><span class="va">x2</span> <span class="op">+</span> <span class="va">e</span></span>
<span>    </span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">inc_x2</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span><span class="op">{</span></span>
<span>      <span class="va">x2</span> <span class="op">&lt;-</span> <span class="va">x2</span> <span class="op">*</span> <span class="va">inc_x2</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="co"># application of method</span></span>
<span>    <span class="va">estim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># evaluation of the result for a single repetition and parameter combination</span></span>
<span>    <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b0 <span class="op">=</span> <span class="va">estim</span><span class="op">$</span><span class="va">coefficients</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>                b1 <span class="op">=</span> <span class="va">estim</span><span class="op">$</span><span class="va">coefficients</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>                b2 <span class="op">=</span> <span class="va">estim</span><span class="op">$</span><span class="va">coefficients</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>                sigma2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var</a></span><span class="op">(</span><span class="va">estim</span><span class="op">$</span><span class="va">residuals</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span></code></pre></div>
<p>The second argument of <code><a href="../reference/future_mc.html">future_mc()</a></code> is
<code>repetitions</code> which should be an integer specifying the
number of Monte Carlo iterations. While the third argument
<code>param_list</code> should be a list whose components are named
after the parameters of <code>fun</code> which should vary for the
different Monte Carlo Simulation and each component is a vector
containing the desired grid values for the parameter. Consider the
following example for <code>param_list</code> and note that its
components are named accordingly to the parameters of
<code>ols_test</code>: <code>n</code> and <code>inc_x2</code>,
respectively:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># param_list</span></span>
<span><span class="va">param_list_ols</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">200</span>, <span class="fl">300</span><span class="op">)</span>, inc_x2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/future_mc.html">future_mc()</a></code> takes care of creating all possible
parameter combinations of <code>param_list</code> and runs the Monte
Carlo simulation over all of these for all possible combinations. If you
don’t want to run a Monte Carlo simulation for every possible parameter
combination you can alternatively define <code>param_table</code> with a
<code>data.frame</code> or <code>data.table</code> containing the
parameter combinations you are interested in.The <code>...</code>
argument can be used to specify further arguments of <code>fun</code>
which are not contained in <code>param_list</code>. Those arguments will
be held fixed for all parameter combinations. In our OLS example those
arguments are <code>b0</code>, <code>b1</code>, <code>b2</code>,
<code>sigma2</code>, <code>param_x1</code>, and
<code>param_x2</code>.</p>
<p>Moreover, there are four formal requirements that <code>fun</code>
and thus <code>ols_test</code> have to fulfill:</p>
<ul>
<li>The arguments of <code>fun</code> which are present in
<code>param_list</code> have to be scalar values. Note that the
arguments of <code>ols_test</code> which are contained in
<code>param_list_ols</code>: <code>n</code> and <code>inc_x2</code> are
scalar values. The remaining arguments of <code>ols_test</code> are
allowed to take non-scalar values.</li>
<li>Every variable used inside <code>fun</code> has either to be defined
inside <code>fun</code> or given as an argument through the
<code>...</code> argument.</li>
<li>The value returned by <code>fun</code> has to be a named list. In
our example the names of the returned list are <code>b0</code>,
<code>b1</code>, <code>b2</code>, and <code>sigma2</code>.</li>
<li>The names of the returned values and those of the arguments
contained in <code>param_list</code> need to be different. Moreover,
they cannot be <code>params</code>, <code>repetitions</code> or
<code>setup</code> as these names are already occupied. Note that
<code>b0</code>, <code>b1</code>, <code>b2</code>, and
<code>sigma2</code> are the names of the returned values as well as
names of arguments of <code>ols_test</code>. However, none of those
arguments is contained in <code>param_list_ols</code>. If we would add
either of those variables to <code>param_list_ols</code> we would need
to change the name of the returned value for the respective
variable.</li>
</ul>
<p>We recommend to even further restrict the return value of
<code>fun</code> to be a named list of scalars. This allows you to use
all comfort functions of the <code>tidyMC</code> package. As you can
see, we did that for <code>ols_test</code>.</p>
<p>The argument <code>parallelisation_plan</code> allows the user to set
a parallelisation plan. While the argument
<code>parallelisation_options</code> allows the user to fine tune
functions, such as <code><a href="https://furrr.futureverse.org/reference/future_map.html" class="external-link">furrr::future_map()</a></code> by
<code><a href="https://furrr.futureverse.org/reference/furrr_options.html" class="external-link">furrr::furrr_options()</a></code>. The argument <code>seed</code> for
<code><a href="https://furrr.futureverse.org/reference/furrr_options.html" class="external-link">furrr::furrr_options()</a></code> can be specified in
<code>parallelisation_options</code> following the formal requirements
of its respective documentation. Moreover, the user can also decide not
to run the Monte Carlo in parallel by setting
<code>parallel = FALSE</code>. To construct
<code>parallelisation_plan</code> the user needs to provide a list named
after the arguments of <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan</a></code>. The main argument
<code>strategy</code> needs to provide the specific type of
parallelisation the user would like to use and the number of cores which
are used in the function. Some of the options for strategy are:
<code>multisession</code>, <code>multicore</code> and
<code>cluster</code>. We strongly recommend the user to read the
documentation of the <code>future</code> package for a more detailed
instruction of how to set up the different strategies.</p>
<p>As a default (<code>check = TRUE</code>) <code><a href="../reference/future_mc.html">future_mc()</a></code>
runs a quick check by running a single test-iteration for each parameter
combination in order to check for possible errors in <code>fun</code>.
If a error occurs the user not only receives the error message but also
the parameter combinations for which the error occurred:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">101</span><span class="op">)</span></span>
<span><span class="va">first_mc_ols</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/future_mc.html">future_mc</a></span><span class="op">(</span></span>
<span>  fun <span class="op">=</span> <span class="va">ols_test</span>, </span>
<span>  repetitions <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>  param_list <span class="op">=</span> <span class="va">param_list_ols</span>, </span>
<span>  b0 <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  b1 <span class="op">=</span> <span class="fl">4</span>, </span>
<span>  b2 <span class="op">=</span> <span class="fl">5</span>, </span>
<span>  sigma2 <span class="op">=</span> <span class="op">-</span><span class="fl">2</span>,</span>
<span>  param_x1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span><span class="op">)</span>,</span>
<span>  param_x2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">6</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Running single test-iteration for each parameter combination...</span></span>
<span><span class="co">#&gt; Error in future_mc(fun = ols_test, repetitions = 1000, param_list = param_list_ols, :  </span></span>
<span><span class="co">#&gt;  Function error: NaNs produced </span></span>
<span><span class="co">#&gt;  At the parameters: n=100, inc_x2=0 </span></span>
<span><span class="co">#&gt;   </span></span>
<span><span class="co">#&gt;  Function error: NaNs produced </span></span>
<span><span class="co">#&gt;  At the parameters: n=200, inc_x2=0 </span></span>
<span><span class="co">#&gt;   </span></span>
<span><span class="co">#&gt;  Function error: NaNs produced </span></span>
<span><span class="co">#&gt;  At the parameters: n=300, inc_x2=0 </span></span>
<span><span class="co">#&gt;   </span></span>
<span><span class="co">#&gt;  Function error: NaNs produced </span></span>
<span><span class="co">#&gt;  At the parameters: n=100, inc_x2=1 </span></span>
<span><span class="co">#&gt;   </span></span>
<span><span class="co">#&gt;  Function error: NaNs produced </span></span>
<span><span class="co">#&gt;  At the parameters: n=200, inc_x2=1 </span></span>
<span><span class="co">#&gt;   </span></span>
<span><span class="co">#&gt;  Function error: NaNs produced </span></span>
<span><span class="co">#&gt;  At the parameters: n=300, inc_x2=1 </span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
<p>The attentive reader might already have noticed that we specified
<code>sigma2 = -2</code> which doesn’t make sense, as the variance of
the error term cannot be negative. This results in a failed check for
all parameter combinations, as this parameter is held fixed for any
combination. Once we correct that mistake, we can run our first Monte
Carlo simulation:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">101</span><span class="op">)</span></span>
<span><span class="va">first_mc_ols</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/future_mc.html">future_mc</a></span><span class="op">(</span></span>
<span>  fun <span class="op">=</span> <span class="va">ols_test</span>, </span>
<span>  repetitions <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>  param_list <span class="op">=</span> <span class="va">param_list_ols</span>, </span>
<span>  b0 <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  b1 <span class="op">=</span> <span class="fl">4</span>, </span>
<span>  b2 <span class="op">=</span> <span class="fl">5</span>, </span>
<span>  sigma2 <span class="op">=</span> <span class="fl">2</span>, <span class="co"># correctly specify sigma2</span></span>
<span>  param_x1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span><span class="op">)</span>,</span>
<span>  param_x2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">6</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Running single test-iteration for each parameter combination...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Test-run successfull: No errors occurred!</span></span>
<span><span class="co">#&gt; Running whole simulation: Overall 6 parameter combinations are simulated ...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Simulation was successfull!</span></span>
<span><span class="co">#&gt;  Running time: 00:00:02.43358</span></span></code></pre></div>
<p><code>future_mc</code> returns a list of type <code>mc</code> and
length 11 consisting of a tibble (<code>first_mc_ols$output</code>)
containing the return value of <code>fun</code> for each iteration and
parameter combination. In our case <code>first_mc_ols$output</code>
contains a column for each output <code>b0</code>, <code>b1</code>,
<code>b2</code>, and <code>sigma2</code>, as well as a column for each
parameter in <code>param_list_ols</code> and a column containing the
<code>nice_names</code> of the parameter combinations. Overall the
<code>first_mc_ols$output</code> consists of 6000 rows, i.e., for each
parameter combination 1.000 rows:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">first_mc_ols</span><span class="op">$</span><span class="va">output</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6,000 × 7</span></span></span>
<span><span class="co">#&gt;    params              n inc_x2     b0    b1    b2 sigma2</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> n=100, inc_x2=0   100      0  1.28   3.38    <span style="color: #BB0000;">NA</span>   776.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> n=100, inc_x2=0   100      0 -<span style="color: #BB0000;">4.27</span>   3.89    <span style="color: #BB0000;">NA</span>   773.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> n=100, inc_x2=0   100      0  5.85   4.36    <span style="color: #BB0000;">NA</span>  <span style="text-decoration: underline;">1</span>130.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> n=100, inc_x2=0   100      0  1.57   4.69    <span style="color: #BB0000;">NA</span>  <span style="text-decoration: underline;">1</span>067.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> n=100, inc_x2=0   100      0 -<span style="color: #BB0000;">0.802</span>  3.93    <span style="color: #BB0000;">NA</span>   873.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> n=100, inc_x2=0   100      0  1.26   4.44    <span style="color: #BB0000;">NA</span>   880.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> n=100, inc_x2=0   100      0  5.01   4.22    <span style="color: #BB0000;">NA</span>   852.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> n=100, inc_x2=0   100      0 -<span style="color: #BB0000;">1.49</span>   3.99    <span style="color: #BB0000;">NA</span>   938.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> n=100, inc_x2=0   100      0  3.07   3.80    <span style="color: #BB0000;">NA</span>   779.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> n=100, inc_x2=0   100      0  2.06   3.73    <span style="color: #BB0000;">NA</span>   999.</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5,990 more rows</span></span></span></code></pre></div>
<p>If <code>ols_test</code> would not return a named list of scalars,
but a named list of non-scalars, then <code>first_mc_ols$output</code>
would not contain a column for each output, but a single column
containing the named list of non-scalars for each iteration and
parameter combination.</p>
<p>Moreover, <code>first_mc_ols</code> returns much other information
about the Monte Carlo simulation that can be printed in a dense
representation:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">first_mc_ols</span></span>
<span><span class="co">#&gt; Monte Carlo simulation results for the specified function: </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;  function (b0, b1, b2, n, sigma2, param_x1, param_x2, inc_x2) </span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     x1 &lt;- rnorm(n = n, mean = param_x1[1], sd = param_x1[2])</span></span>
<span><span class="co">#&gt;     x2 &lt;- rnorm(n = n, mean = param_x2[1], sd = param_x2[2])</span></span>
<span><span class="co">#&gt;     e &lt;- rnorm(n, sd = sqrt(sigma2))</span></span>
<span><span class="co">#&gt;     y &lt;- b0 + b1 * x1 + b2 * x2 + e</span></span>
<span><span class="co">#&gt;     if (inc_x2 == 0) {</span></span>
<span><span class="co">#&gt;         x2 &lt;- x2 * inc_x2</span></span>
<span><span class="co">#&gt;     }</span></span>
<span><span class="co">#&gt;     estim &lt;- lm(y ~ x1 + x2)</span></span>
<span><span class="co">#&gt;     out &lt;- list(b0 = estim$coefficients[1], b1 = estim$coefficients[2], </span></span>
<span><span class="co">#&gt;         b2 = estim$coefficients[3], sigma2 = var(estim$residuals))</span></span>
<span><span class="co">#&gt;     return(out)</span></span>
<span><span class="co">#&gt; } </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;  The following 6 parameter combinations: </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">#&gt;       n inc_x2</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>   100      0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>   200      0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>   300      0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>   100      1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>   200      1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>   300      1</span></span>
<span><span class="co">#&gt; are each simulated 1000 times. </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;  The Running time was: 00:00:02.43358 </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;  Parallel: TRUE </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;  The following parallelisation plan was used: </span></span>
<span><span class="co">#&gt; $strategy</span></span>
<span><span class="co">#&gt; multisession:</span></span>
<span><span class="co">#&gt; - args: function (..., workers = availableCores(), lazy = FALSE, rscript_libs = .libPaths(), envir = parent.frame())</span></span>
<span><span class="co">#&gt; - tweaked: FALSE</span></span>
<span><span class="co">#&gt; - call: NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Seed: TRUE</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="summarize-your-results-with-summary-mc">Summarize your results with <code>summary.mc()</code><a class="anchor" aria-label="anchor" href="#summarize-your-results-with-summary-mc"></a>
</h4>
<p>If <code>fun</code> returns a named list of scalars the user can use
<code><a href="../reference/summary.mc.html">summary.mc()</a></code> to summarize all Monte Carlo results. The
first argument of the function is an object of class <code>mc</code>
returned by <code><a href="../reference/future_mc.html">future_mc()</a></code>. The next argument
<code>sum_funs</code> determines which summarizing functions will be
used on the simulation results. The functions can be provided for any
combination of: parameter combinations resulting from
<code>param_list</code>, and the outputs of <code>fun</code>. Every
specified function can only take one argument, which is the vector (with
length <code>repetitions</code>) for every output. We will present all
customization options of <code>sum_funs</code> in a step wise
manner.</p>
<p>The first option of summarizing the results is given by just
providing the <code>mc</code> object to <code>summary.mc</code>. In this
case, <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code> will be applied to all numeric values and
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> to all non-numeric data types. When the
summarizing functions return one numeric value (like
<code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>) the results are twofold:</p>
<ul>
<li><p>First, a single scalar result of the function evaluated using the
complete output vector is returned in the first element.</p></li>
<li><p>Second, a vector with length <code>repetitions</code> of numeric
results from the step wise calculation of the function’s result across
the output’s vector. We call this resulting vector as the “path” of the
summarizing function.</p></li>
</ul>
<p>Additionally, to save computation time the parameter
<code>which_path</code> is available to the user who wants to specify
for which outputs the “path” should be calculated. The user needs to
provide a character vector with the output names’. Moreover, the options
<code>"all"</code> (the default) and <code>"none"</code> are also
available.</p>
<p>For the OLS example since all outputs of <code>ols_test</code> are
numeric, the returned object will be a named nested list composed of
four elements named after the <code>nice_names</code> returned by
<code><a href="../reference/future_mc.html">future_mc()</a></code>. Each of this elements are itself lists
containing the summarized outputs, i.e. <code>b0</code>,
<code>b1</code>, <code>b2</code>, and <code>sigma2</code>. Lastly each
of these are composed by the “path” and scalar result of
<code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Default</span></span>
<span><span class="va">summary_default</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">first_mc_ols</span><span class="op">)</span></span>
<span><span class="va">summary_default</span></span>
<span><span class="co">#&gt; Results for the output b0: </span></span>
<span><span class="co">#&gt;    n=100, inc_x2=0: 0.9185223 </span></span>
<span><span class="co">#&gt;    n=100, inc_x2=1: 1.003477 </span></span>
<span><span class="co">#&gt;    n=200, inc_x2=0: 1.02396 </span></span>
<span><span class="co">#&gt;    n=200, inc_x2=1: 1.002091 </span></span>
<span><span class="co">#&gt;    n=300, inc_x2=0: 1.000223 </span></span>
<span><span class="co">#&gt;    n=300, inc_x2=1: 1.002196 </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Results for the output b1: </span></span>
<span><span class="co">#&gt;    n=100, inc_x2=0: 3.985091 </span></span>
<span><span class="co">#&gt;    n=100, inc_x2=1: 4.000044 </span></span>
<span><span class="co">#&gt;    n=200, inc_x2=0: 4.005565 </span></span>
<span><span class="co">#&gt;    n=200, inc_x2=1: 4.000216 </span></span>
<span><span class="co">#&gt;    n=300, inc_x2=0: 4.001195 </span></span>
<span><span class="co">#&gt;    n=300, inc_x2=1: 4.000031 </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Results for the output b2: </span></span>
<span><span class="co">#&gt;    n=100, inc_x2=0: </span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    n=100, inc_x2=1: 5.001864 </span></span>
<span><span class="co">#&gt;    n=200, inc_x2=0: </span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    n=200, inc_x2=1: 5.001091 </span></span>
<span><span class="co">#&gt;    n=300, inc_x2=0: </span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    n=300, inc_x2=1: 5.000132 </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Results for the output sigma2: </span></span>
<span><span class="co">#&gt;    n=100, inc_x2=0: 892.7561 </span></span>
<span><span class="co">#&gt;    n=100, inc_x2=1: 1.958776 </span></span>
<span><span class="co">#&gt;    n=200, inc_x2=0: 895.652 </span></span>
<span><span class="co">#&gt;    n=200, inc_x2=1: 1.982949 </span></span>
<span><span class="co">#&gt;    n=300, inc_x2=0: 900.6887 </span></span>
<span><span class="co">#&gt;    n=300, inc_x2=1: 1.983788 </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">summary_default</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 4</span></span>
<span><span class="co">#&gt;  $ b0    :List of 2</span></span>
<span><span class="co">#&gt;   ..$ mean          : num 0.919</span></span>
<span><span class="co">#&gt;   ..$ mean_over_reps: num [1:1000] 1.278 -1.497 0.954 1.108 0.726 ...</span></span>
<span><span class="co">#&gt;  $ b1    :List of 2</span></span>
<span><span class="co">#&gt;   ..$ mean          : num 3.99</span></span>
<span><span class="co">#&gt;   ..$ mean_over_reps: num [1:1000] 3.38 3.63 3.88 4.08 4.05 ...</span></span>
<span><span class="co">#&gt;  $ b2    :List of 1</span></span>
<span><span class="co">#&gt;   ..$ mean: num NA</span></span>
<span><span class="co">#&gt;  $ sigma2:List of 2</span></span>
<span><span class="co">#&gt;   ..$ mean          : num 893</span></span>
<span><span class="co">#&gt;   ..$ mean_over_reps: num [1:1000] 776 774 893 936 923 ...</span></span></code></pre></div>
<p>This nested list structure should give an idea of the reach and
flexibility the <code>sum_funs</code> argument is allowed to have, since
the user can specify a function for each element in this list.</p>
<p>For an intermediate level of customization, the user can provide a
combination of summarizing functions for every output, which will be
used for all parameter combination. In the case of the OLS example, if
we want to apply <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code> on all estimated coefficients, but
we want to use <code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var()</a></code> on the MC results of
<code>sigma2</code>, the <code>sum_funs</code> should have the following
structure:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># summarizing output for each parameter combination with one combination</span></span>
<span><span class="va">sum_funs_ols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b0 <span class="op">=</span> <span class="va">mean</span>, b1 <span class="op">=</span> <span class="va">mean</span> , b2 <span class="op">=</span> <span class="va">mean</span>, sigma2 <span class="op">=</span> <span class="va">var</span><span class="op">)</span></span></code></pre></div>
<p>Moreover, the user can specify any function provided it takes the
output vector as only available argument.</p>
<p>Lastly for the last level of customization, a nested list named after
the <code>nice_names</code> where every element follows the structure of
the last example (components named after the outputs and each component
is a function) can be specified. We present an example for this:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">quantile_sum</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">x</span>, probs <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># summarizing output differently for different parameter combinations</span></span>
<span><span class="va">sum_funs2</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b0 <span class="op">=</span> <span class="va">quantile_sum</span>, b1 <span class="op">=</span> <span class="va">min</span>, b2 <span class="op">=</span> <span class="va">min</span>, sigma2 <span class="op">=</span> <span class="va">mean</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b0 <span class="op">=</span> <span class="va">mean</span>, b1 <span class="op">=</span> <span class="va">quantile_sum</span>, b2 <span class="op">=</span> <span class="va">mean</span>, sigma2 <span class="op">=</span> <span class="va">mean</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b0 <span class="op">=</span> <span class="va">median</span>, b1 <span class="op">=</span> <span class="va">median</span>, b2 <span class="op">=</span> <span class="va">median</span>, sigma2 <span class="op">=</span> <span class="va">mean</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b0 <span class="op">=</span> <span class="va">max</span>, b1 <span class="op">=</span> <span class="va">max</span>, b2 <span class="op">=</span> <span class="va">max</span>, sigma2 <span class="op">=</span> <span class="va">mean</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b0 <span class="op">=</span> <span class="va">min</span>, b1 <span class="op">=</span> <span class="va">min</span>, b2 <span class="op">=</span> <span class="va">min</span>, sigma2 <span class="op">=</span> <span class="va">quantile_sum</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b0 <span class="op">=</span> <span class="va">mean</span>, b1 <span class="op">=</span> <span class="va">mean</span>, b2 <span class="op">=</span> <span class="va">quantile_sum</span>, sigma2 <span class="op">=</span> <span class="va">quantile_sum</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">sum_funs2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">first_mc_ols</span><span class="op">$</span><span class="va">nice_names</span></span>
<span><span class="va">summary_out_param_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">first_mc_ols</span>, sum_funs <span class="op">=</span> <span class="va">sum_funs2</span><span class="op">)</span></span></code></pre></div>
<p>We would like to reiterate that the provided summary functions are
not restricted regarding the complexity of their return value. However,
the path of the summarized output over all simulation repetitions is
only returned if the provided summary functions return a single numeric
value. Thus, the following comfort functions
<code><a href="../reference/plot.summary.mc.html">plot.summary.mc()</a></code> and <code><a href="../reference/tidy_mc_latex.html">tidy_mc_latex()</a></code> will
only work in this specific case.</p>
</div>
<div class="section level4">
<h4 id="plot-your-monte-carlo-simulation-with-plot-mc-and-plot-summary-mc">Plot your Monte Carlo Simulation with <code>plot.mc()</code> and
<code>plot.summary.mc()</code><a class="anchor" aria-label="anchor" href="#plot-your-monte-carlo-simulation-with-plot-mc-and-plot-summary-mc"></a>
</h4>
<p>If <code>fun</code> returns a named list of scalars the user can use
<code><a href="../reference/plot.mc.html">plot.mc()</a></code> to generate a list of objects of class
<code>gg</code> and <code>ggplot2</code> for all Monte Carlo results.
The first argument of the function is an object of class <code>mc</code>
returned by <code><a href="../reference/future_mc.html">future_mc()</a></code>. Using the argument
<code>plot</code> the user can indicate whether the generated plots
should be printed immediately or only returned as a list. The list will
contain one plot for each output of <code>fun</code> comparing the
results of the different simulation setups. In general,
<code><a href="../reference/plot.mc.html">plot.mc()</a></code> generates density plots for numeric outputs and
bar plots for non-numeric outputs. In our example a plot for
<code>b0</code>, <code>b1</code>, <code>b2</code>, and
<code>sigma2</code> will be returned in a list of length four and as
<code>b0</code>, <code>b1</code>, <code>b2</code>, and
<code>sigma2</code> are all numeric outputs <code><a href="../reference/plot.mc.html">plot.mc()</a></code> will
return density plots for each of those:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mc_ols_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">first_mc_ols</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">mc_ols_plot</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "b0"     "b1"     "b2"     "sigma2"</span></span></code></pre></div>
<p>As the single list elements are of class <code>gg</code> and
<code>ggplot2</code>, we can easily customize and extend the single
plots using familiar <code>ggplot2</code> commands:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mc_ols_plot</span><span class="op">$</span><span class="va">b1</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">4</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="tidyMC_files/figure-html/unnamed-chunk-15-1.png" width="672"></p>
<p>When creating the plots the user can also subset the setups which
he/she would like to see in the plots using the
<code>first_mc_ols$nice_names</code> in the function argument
<code>which_setup</code>, or a named list in
<code>parameter_comb</code>. The single components of the list have to
be named after the parameters specified in <code>param_list</code> and
contain vectors specifying the values of the parameters to filter by. In
the ols example we can filter by the parameters <code>n</code> and
<code>inc_x2</code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># subsetting by nice_names</span></span>
<span><span class="va">mc_ols_plot_subset1</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">first_mc_ols</span>, plot <span class="op">=</span> <span class="cn">FALSE</span>, which_setup <span class="op">=</span> <span class="va">first_mc_ols</span><span class="op">$</span><span class="va">nice_names</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#subsetting by parameter values</span></span>
<span><span class="va">mc_ols_plot_subset2</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">first_mc_ols</span>, plot <span class="op">=</span> <span class="cn">FALSE</span>, parameter_comb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>inc_x2 <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mc_ols_plot_subset1</span><span class="op">$</span><span class="va">sigma2</span></span></code></pre></div>
<p><img src="tidyMC_files/figure-html/unnamed-chunk-16-1.png" width="672"></p>
<p>Thus, if the user wants distinct plots for every parameter
combination, one needs to subset the plot for any single setup in
<code>first_mc_ols$nice_names</code>.</p>
<p>Finally, you can also plot the simulation results for several
parameter combination in one single plot by specifying the argument
<code>join</code> with the respective
<code>first_mc_ols$nice_names</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mc_ols_plot_joint</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">first_mc_ols</span>, plot <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                          join <span class="op">=</span> <span class="va">first_mc_ols</span><span class="op">$</span><span class="va">nice_names</span><span class="op">)</span></span>
<span><span class="va">mc_ols_plot_joint</span><span class="op">$</span><span class="va">b2</span></span>
<span><span class="co">#&gt; Warning: Removed 3000 rows containing non-finite values</span></span>
<span><span class="co">#&gt; (`stat_density()`).</span></span></code></pre></div>
<p><img src="tidyMC_files/figure-html/unnamed-chunk-17-1.png" width="672"></p>
<p>Please be aware that the only one of the three arguments
<code>which_setup</code>, <code>parameter_comb</code>, and
<code>join</code> can be specified at the same time.</p>
<p>If the provided summary functions in <code><a href="../reference/summary.mc.html">summary.mc()</a></code> return
a single numeric value and thus a path of the summarized output over all
simulation repetitions is returned, the user can use
<code><a href="../reference/plot.summary.mc.html">plot.summary.mc()</a></code> to plot those paths. The first argument
of the function is an object of class <code>summary.mc</code> returned
by <code><a href="../reference/summary.mc.html">summary.mc()</a></code>. Just as <code><a href="../reference/plot.mc.html">plot.mc()</a></code>,
<code><a href="../reference/plot.summary.mc.html">plot.summary.mc()</a></code> returns a list of objects of class
<code>gg</code> and <code>ggplot2</code>. The list will contain one line
plot for each output of <code>fun</code> displaying the paths of the
results of the different simulation setups. The arguments
<code>plot</code>, <code>which_setup</code>,
<code>parameter_comb</code>, and <code>join</code> can be specified the
same way as for <code>plot.mc</code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sum_mc_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">summary_default</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">sum_mc_plot</span><span class="op">$</span><span class="va">b1</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">100</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, </span>
<span>                                            hjust <span class="op">=</span> <span class="fl">0.1</span>, </span>
<span>                                            vjust <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="tidyMC_files/figure-html/unnamed-chunk-18-1.png" width="672"></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sum_mc_plot_subset1</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">summary_default</span>, </span>
<span>       plot <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>       which_setup <span class="op">=</span> <span class="va">first_mc_ols</span><span class="op">$</span><span class="va">nice_names</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sum_mc_plot_subset2</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">summary_default</span>, </span>
<span>       plot <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>       parameter_comb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>inc_x2 <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sum_mc_plot_subset2</span><span class="op">$</span><span class="va">b1</span></span></code></pre></div>
<p><img src="tidyMC_files/figure-html/unnamed-chunk-18-2.png" width="672"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sum_mc_plot_joint</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">summary_default</span>, plot <span class="op">=</span> <span class="cn">FALSE</span>, join <span class="op">=</span> <span class="va">first_mc_ols</span><span class="op">$</span><span class="va">nice_names</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sum_mc_plot_joint</span><span class="op">$</span><span class="va">b1</span></span></code></pre></div>
<p><img src="tidyMC_files/figure-html/unnamed-chunk-18-3.png" width="672"></p>
</div>
<div class="section level4">
<h4 id="create-a-latex-table-of-your-results-with-tidy_mc_latex">Create a LaTeX table of your results with
<code>tidy_mc_latex()</code><a class="anchor" aria-label="anchor" href="#create-a-latex-table-of-your-results-with-tidy_mc_latex"></a>
</h4>
<p>Using <code>tidy_mc_latex</code> the user can present the results
from <code>future_mc</code> directly into a <code>LaTeX</code> document
using all the benefits from the <code>kableExtra</code> package. The
first and main argument <code>x</code> needed by
<code>tidy_mc_latex</code> is a <code>summary.mc</code> object obtained
from <code><a href="../reference/summary.mc.html">summary.mc()</a></code>. To present the results in a
comprehensive manner the function requires that all summarized outputs
in <code>summary.mc</code> be scalar numeric results for all parameter
combinations. In case, the summarizing function returns more than one
argument then this will be presented in the table as an <code>NA</code>
value. The second argument of the function is
<code>repetitions_set</code> which allows the user to see the certain
values of the “path” of the summarized results of <code>fun</code>. To
illustrate this we use the MC results for the OLS example:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tidy_mc_latex.html">tidy_mc_latex</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">first_mc_ols</span><span class="op">)</span>,</span>
<span>  repetitions_set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1000</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; \begin{table}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; \caption{\label{tab:unnamed-chunk-19}Monte Carlo simulations results}</span></span>
<span><span class="co">#&gt; \centering</span></span>
<span><span class="co">#&gt; \begin{tabular}[t]{cccccc}</span></span>
<span><span class="co">#&gt; \toprule</span></span>
<span><span class="co">#&gt; n &amp; inc_x2 &amp; b0 &amp; b1 &amp; b2 &amp; sigma2\\</span></span>
<span><span class="co">#&gt; \midrule</span></span>
<span><span class="co">#&gt; \addlinespace[0.3em]</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{\textbf{N = 10}}\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 0 &amp; 1.354 &amp; 4.043 &amp; NA &amp; 906.484\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 1 &amp; 0.989 &amp; 4.011 &amp; 4.999 &amp; 1.915\\</span></span>
<span><span class="co">#&gt; \hspace{1em}200 &amp; 0 &amp; 2.326 &amp; 4.156 &amp; NA &amp; 871.074\\</span></span>
<span><span class="co">#&gt; \hspace{1em}200 &amp; 1 &amp; 1.025 &amp; 3.996 &amp; 5.002 &amp; 2.015\\</span></span>
<span><span class="co">#&gt; \hspace{1em}300 &amp; 0 &amp; 0.083 &amp; 4.006 &amp; NA &amp; 950.222\\</span></span>
<span><span class="co">#&gt; \hspace{1em}300 &amp; 1 &amp; 0.989 &amp; 3.997 &amp; 4.997 &amp; 2.058\\</span></span>
<span><span class="co">#&gt; \addlinespace[0.3em]</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{\textbf{N = 1000}}\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 0 &amp; 0.919 &amp; 3.985 &amp; NA &amp; 892.756\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 1 &amp; 1.003 &amp; 4.000 &amp; 5.002 &amp; 1.959\\</span></span>
<span><span class="co">#&gt; \hspace{1em}200 &amp; 0 &amp; 1.024 &amp; 4.006 &amp; NA &amp; 895.652\\</span></span>
<span><span class="co">#&gt; \hspace{1em}200 &amp; 1 &amp; 1.002 &amp; 4.000 &amp; 5.001 &amp; 1.983\\</span></span>
<span><span class="co">#&gt; \hspace{1em}300 &amp; 0 &amp; 1.000 &amp; 4.001 &amp; NA &amp; 900.689\\</span></span>
<span><span class="co">#&gt; \hspace{1em}300 &amp; 1 &amp; 1.002 &amp; 4.000 &amp; 5.000 &amp; 1.984\\</span></span>
<span><span class="co">#&gt; \bottomrule</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{\textsuperscript{} Total repetitions = 1000, total parameter}\\</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{combinations = 6}\\</span></span>
<span><span class="co">#&gt; \end{tabular}</span></span>
<span><span class="co">#&gt; \end{table}</span></span></code></pre></div>
<p>The resulting table is composed of two panels, which corresponds to
the length of <code>repetitions_set</code>. In them the columns
correspond to the results of the summarizing functions for
<code>b0</code>, <code>b1</code>, <code>b2</code>, and
<code>sigma2</code>, and the rows correspond to specific combinations of
the parameters provided in <code>parameter_list</code>. The footnote in
the table shows the number of repetitions and the total parameter
combinations provided to <code>future_mc</code>.</p>
<p>Moreover, the next three arguments in <code>tidy_mc_latex</code> are
comfort options to select which results of <code>summary.mc</code>
depending on the parameter combinations will be presented in the table.
On one hand, The argument <code>which_setup</code> allows the user to
make use of the <code>nice_names</code> of the parameter combinations in
the returned object by <code><a href="../reference/future_mc.html">future_mc()</a></code> to subset the rows in
the table. On the other hand, the argument <code>parameter_comb</code>
is used to directly filter the parameters by their values. This argument
requires a named list, containing vector or scalar values of all
parameters to be filtered from. The user must only provide one of this
arguments at a time. We show how to make use of both parameters to
subset the rows of table for <span class="math inline">\(n =
100\)</span> and <span class="math inline">\(inc_{x2}=1\)</span>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tidy_mc_latex.html">tidy_mc_latex</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">first_mc_ols</span><span class="op">)</span>,</span>
<span>  repetitions_set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  which_setup <span class="op">=</span> <span class="va">first_mc_ols</span><span class="op">$</span><span class="va">nice_names</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; \begin{table}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; \caption{\label{tab:unnamed-chunk-20}Monte Carlo simulations results}</span></span>
<span><span class="co">#&gt; \centering</span></span>
<span><span class="co">#&gt; \begin{tabular}[t]{ccccc}</span></span>
<span><span class="co">#&gt; \toprule</span></span>
<span><span class="co">#&gt; n &amp; inc_x2 &amp; b0 &amp; b1 &amp; sigma2\\</span></span>
<span><span class="co">#&gt; \midrule</span></span>
<span><span class="co">#&gt; \addlinespace[0.3em]</span></span>
<span><span class="co">#&gt; \multicolumn{5}{l}{\textbf{N = 10}}\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 0 &amp; 1.354 &amp; 4.043 &amp; 906.484\\</span></span>
<span><span class="co">#&gt; \addlinespace[0.3em]</span></span>
<span><span class="co">#&gt; \multicolumn{5}{l}{\textbf{N = 1000}}\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 0 &amp; 0.919 &amp; 3.985 &amp; 892.756\\</span></span>
<span><span class="co">#&gt; \bottomrule</span></span>
<span><span class="co">#&gt; \multicolumn{5}{l}{\textsuperscript{} Total repetitions = 1000, total}\\</span></span>
<span><span class="co">#&gt; \multicolumn{5}{l}{parameter combinations = 6}\\</span></span>
<span><span class="co">#&gt; \end{tabular}</span></span>
<span><span class="co">#&gt; \end{table}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/tidy_mc_latex.html">tidy_mc_latex</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">first_mc_ols</span><span class="op">)</span>,</span>
<span>  repetitions_set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1000</span><span class="op">)</span>,</span>
<span>  parameter_comb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span>, inc_x2 <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; \begin{table}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; \caption{\label{tab:unnamed-chunk-20}Monte Carlo simulations results}</span></span>
<span><span class="co">#&gt; \centering</span></span>
<span><span class="co">#&gt; \begin{tabular}[t]{cccccc}</span></span>
<span><span class="co">#&gt; \toprule</span></span>
<span><span class="co">#&gt; n &amp; inc_x2 &amp; b0 &amp; b1 &amp; b2 &amp; sigma2\\</span></span>
<span><span class="co">#&gt; \midrule</span></span>
<span><span class="co">#&gt; \addlinespace[0.3em]</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{\textbf{N = 10}}\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 1 &amp; 0.989 &amp; 4.011 &amp; 4.999 &amp; 1.915\\</span></span>
<span><span class="co">#&gt; \addlinespace[0.3em]</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{\textbf{N = 1000}}\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 1 &amp; 1.003 &amp; 4.000 &amp; 5.002 &amp; 1.959\\</span></span>
<span><span class="co">#&gt; \bottomrule</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{\textsuperscript{} Total repetitions = 1000, total parameter}\\</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{combinations = 6}\\</span></span>
<span><span class="co">#&gt; \end{tabular}</span></span>
<span><span class="co">#&gt; \end{table}</span></span></code></pre></div>
<p>The user can also subset the outputs of the original function
(columns in the table) using the parameter <code>which_out</code>. This
is done using a character vector with the names of the outputs, e.g. to
only show the columns for <code>b0</code> and <code>sigma2</code> the
user needs to set <code>which_out = c("b0", "sigma2")</code>.</p>
<p>Lastly, by providing a named list to the argument
<code>kable_options</code>, the user can change all arguments of the
underlying function <code>kable::kbl()</code>. The names of the list
have to be equal to the names of the arguments of the function and the
contents of every element also has to fulfill its requirements. We
provide an example of how this list should be constructed, but for
optimal usage we strongly recommend the user to see the documentation of
the <code>kable::kbl()</code> function.</p>
<p>To allow for further customization the returned object by
<code>tidy_mc_latex</code> is of class <code>knitr_kable</code>,
therefore the user can utilize most functions from the
<code>kableExtra</code> package in the standard tidyverse manner. For
example:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tidy_mc_latex.html">tidy_mc_latex</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">first_mc_ols</span><span class="op">)</span>, </span>
<span>              repetitions_set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">1000</span><span class="op">)</span>,</span>
<span>              kable_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Number of observations"</span>,</span>
<span>                              <span class="st">"$x_2$ included or not"</span>,</span>
<span>                              <span class="st">"$\\beta_0$"</span>, <span class="st">"$\\beta_1$"</span>,</span>
<span>                              <span class="st">"$\\beta_2$"</span>, <span class="st">"$s^2$"</span><span class="op">)</span>, </span>
<span>                caption <span class="op">=</span> <span class="st">"Ommited variable bias MC results"</span></span>
<span>              <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>latex_options <span class="op">=</span> <span class="st">"HOLD_position"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; \begin{table}[H]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; \caption{\label{tab:unnamed-chunk-21}Ommited variable bias MC results}</span></span>
<span><span class="co">#&gt; \centering</span></span>
<span><span class="co">#&gt; \begin{tabular}[t]{cccccc}</span></span>
<span><span class="co">#&gt; \toprule</span></span>
<span><span class="co">#&gt; Number of observations &amp; $x_2$ included or not &amp; $\beta_0$ &amp; $\beta_1$ &amp; $\beta_2$ &amp; $s^2$\\</span></span>
<span><span class="co">#&gt; \midrule</span></span>
<span><span class="co">#&gt; \addlinespace[0.3em]</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{\textbf{N = 10}}\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 0 &amp; 1.354 &amp; 4.043 &amp; NA &amp; 906.484\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 1 &amp; 0.989 &amp; 4.011 &amp; 4.999 &amp; 1.915\\</span></span>
<span><span class="co">#&gt; \hspace{1em}200 &amp; 0 &amp; 2.326 &amp; 4.156 &amp; NA &amp; 871.074\\</span></span>
<span><span class="co">#&gt; \hspace{1em}200 &amp; 1 &amp; 1.025 &amp; 3.996 &amp; 5.002 &amp; 2.015\\</span></span>
<span><span class="co">#&gt; \hspace{1em}300 &amp; 0 &amp; 0.083 &amp; 4.006 &amp; NA &amp; 950.222\\</span></span>
<span><span class="co">#&gt; \hspace{1em}300 &amp; 1 &amp; 0.989 &amp; 3.997 &amp; 4.997 &amp; 2.058\\</span></span>
<span><span class="co">#&gt; \addlinespace[0.3em]</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{\textbf{N = 1000}}\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 0 &amp; 0.919 &amp; 3.985 &amp; NA &amp; 892.756\\</span></span>
<span><span class="co">#&gt; \hspace{1em}100 &amp; 1 &amp; 1.003 &amp; 4.000 &amp; 5.002 &amp; 1.959\\</span></span>
<span><span class="co">#&gt; \hspace{1em}200 &amp; 0 &amp; 1.024 &amp; 4.006 &amp; NA &amp; 895.652\\</span></span>
<span><span class="co">#&gt; \hspace{1em}200 &amp; 1 &amp; 1.002 &amp; 4.000 &amp; 5.001 &amp; 1.983\\</span></span>
<span><span class="co">#&gt; \hspace{1em}300 &amp; 0 &amp; 1.000 &amp; 4.001 &amp; NA &amp; 900.689\\</span></span>
<span><span class="co">#&gt; \hspace{1em}300 &amp; 1 &amp; 1.002 &amp; 4.000 &amp; 5.000 &amp; 1.984\\</span></span>
<span><span class="co">#&gt; \bottomrule</span></span>
<span><span class="co">#&gt; \multicolumn{6}{l}{\textsuperscript{} Total repetitions = 1000, total parameter combinations = 6}\\</span></span>
<span><span class="co">#&gt; \end{tabular}</span></span>
<span><span class="co">#&gt; \end{table}</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Stefan Linner, Ignacio Moreira Lara, Konstantin Lehmann.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
